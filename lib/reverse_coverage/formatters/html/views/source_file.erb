<div class="source_table" id="<%= id source_file %>">
  <div class="header">
    <h3><%= shortened_filename source_file %></h3>
    <h4><span class="<%#= coverage_css_class(source_file.covered_percent) %>"><%#= source_file.covered_percent.round(2).to_s %> %</span> covered</h4>
    <div>
      <b><%= source_file.count %> lines</b> relevant lines.
      <span class="green"><b><%#= source_file.covered_lines.count %></b> lines covered</span> and
      <span class="red"><b><%#= source_file.missed_lines.count %></b> lines missed.</span>
    </div>
  </div>

  <pre>
    <ol>
      <% readfile(source_file).each_with_index do |line, line_number| %>
        <li class="covered" data-linenumber="<%= line_number %>">
          <code class="ruby"><%= CGI.escapeHTML(line.chomp) %></code>
        </li>
      <% end %>
    </ol>
  </pre>
</div>
